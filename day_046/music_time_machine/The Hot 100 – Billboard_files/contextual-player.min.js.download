var pmc_contextual_player={player_main_div:".pmc-contextual-player",message_pattern:"pmcadm:dfp:isdirect=true",init:function(){this.bind_events()},bind_events:function(){var a=this;a.pause_triggered=!1,jQuery(window).on("message",function(b){var c=b.originalEvent;if("string"==typeof c.data)if(c.data.substring(0,a.message_pattern.length)===a.message_pattern)("object"!=typeof pmc_adm_config||"string"!=typeof pmc_adm_config.contextual_on_direct_sold||"show"!==pmc_adm_config.contextual_on_direct_sold)&&a.remove_contextual_player();else if("pmc_show_interrupt_ads"===c.data){if(window.contextual_player)try{if("playing"!==window.contextual_player.getState()){var d=window.contextual_player.getConfig();"viewable"===d.autostart&&d.viewable&&(a.pause_triggered=!0)}else a.pause_triggered=!0;a.pause_triggered&&window.contextual_player.pause()}catch(e){}}else"pmc_hide_interrupt_ads"===c.data&&a.pause_triggered&&(window.contextual_player.play(),a.pause_triggered=!1)}),"object"==typeof contextual_player&&(contextual_player.on("play",a.current_playing),contextual_player.on("adPlay",a.current_playing),contextual_player.on("relatedReady",function(){var b=contextual_player.getPlugin("related");"object"==typeof b&&b.on("feedShown",function(){a.create_playlist_nav(),jQuery(".pmc-contextual-player .jw-related-control").on("click",a.current_playing)})}),contextual_player.on("ready",function(){var b=contextual_player.getPlugin("related");"object"==typeof b&&b.on("feedShown",function(){a.create_playlist_nav(),jQuery(".pmc-contextual-player .jw-related-control").on("click",a.current_playing)})}))},remove_contextual_player:function(){var a=jQuery(this.player_main_div);0<a.length&&a.remove()},current_playing:function(){var a,b,c,d;a=contextual_player.getPlaylistIndex(),c=jQuery(".pmc-contextual-player .jw-related-shelf-item.is-active").removeClass("is-active"),b=jQuery(".pmc-contextual-player .jw-related-shelf-item[data-jw-index="+a+"]"),d=jQuery('<div class="contextual-self-now-playing">VIEWING</div>'),"object"==typeof b&&1===b.length&&b.addClass("is-active"),0===jQuery(".jw-related-shelf-item[data-jw-index="+a+"] .contextual-self-now-playing").length&&b.find(".jw-related-shelf-item-image").append(d)},create_playlist_nav:function(){if(0===jQuery(".pmc-contextual-player .l-adm-contextual-video__shadow").length){var a=jQuery('<div class="l-adm-contextual-video__shadow l-adm-contextual-video__shadow-left"></div>'),b=jQuery('<div class="l-adm-contextual-video__shadow l-adm-contextual-video__shadow-right"></div>');jQuery(".pmc-contextual-player .jw-related-control-left").prepend(a),jQuery(".pmc-contextual-player .jw-related-control-right").prepend(b)}}};pmc_contextual_player.init();